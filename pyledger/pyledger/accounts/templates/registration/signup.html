{% extends 'registration/authbase.html' %}
{% block body %}
{% if messages %}
  {% for message in messages %}
    {{message}}
  {% endfor %}
{% endif %}
<form class="" action="{% url 'signup' %}" method="post">
  {% csrf_token %}
  <p id="message"></p>
  <div class="">
    <label for="username">Username</label>
    <input type="text" name="username" value="" required>
  </div>
  <div class="">
    <label for="password">Password</label>
    <input type="password" name="password" value="" id="password" required>
  </div>
  <div class="">
    <label for="confirmpassword">Confirm Password</label>
    <input type="password" name="confirmpassword" value="" id="confirmpassword" required>
  </div>
  <div class="">
    <label for="email">Email</label>
    <input type="text" name="email" value="" required>
  </div>
  <div class="">
    <label for="firstname">First name</label>
    <input type="text" name="firstname" value="" required>
  </div>
  <div class="">
    <label for="lastname">Last name</label>
    <input type="text" name="lastname" value="" required>
  </div>
  <p>By signing up, you agree to our terms and conditions which will be updated later.</p>
  <button type="submit" name="button" id="submit" disabled>Submit</button>
</form>
<p>If you already have an account, please <a href="{% url 'login' %}">Login</a></p>
{% endblock %}
{% block script %}
<script>
  $('#confirmpassword').on('change',function(){
    var pass = $('#password').val();
    var cfnpass = $('#confirmpassword').val();
    if (pass !== cfnpass){
      $('#message').html("Passwords don't match");
    }
    else {
      $('#message').hide();
      $('#submit').prop("disabled",false);
    }
  });
</script>
{% endblock %}